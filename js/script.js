"use strict";(function(){document.querySelectorAll('[href="#"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault()})})})();(function(){var i=document.querySelector("form");var c=i.querySelector("button");var t=document.querySelector(".modal");var e=i.querySelectorAll("input");var l={name:"должны присутствовать непробельные символы",email:"формат: mail@domain.tld",tel:"формат: +X-XXX-XXX-XX-XX"};var n=function(){i.reset();o();t.classList.remove("interactive")};var a=function(e){if(e.target.tagName!=="BUTTON"){n();document.removeEventListener("click",a)}};var r=function(e){if(e.keyCode===27){n();document.removeEventListener("keydown",r)}};var o=function(){i.querySelectorAll("label").forEach(function(e){e.classList.add("init")})};var s=function(t){var n=t.parentNode.querySelector("label");var a=n.textContent;var e=function(e){e.preventDefault();if(t.name==="name"){if(t.value.match(/^\s+$/)){t.value=t.value.trim()}else{t.value=t.value.replace(/\s/g," ")}}t.className=t.validity.valid?"":"invalid";n.textContent=a+(t.validity.valid?"":"  ( "+l[t.name]+" )")};var r=function(){n.className=t.value||t.classList.contains("invalid")?"":"init"};t.addEventListener("input",e);t.addEventListener("input",function(){if(i.checkValidity()){c.removeAttribute("disabled")}else{c.setAttribute("disabled","")}});t.addEventListener("focus",function(){n.className=""});t.addEventListener("blur",r)};e.forEach(function(e){s(e)});i.addEventListener("submit",function(e){e.preventDefault();t.classList.add("interactive");document.addEventListener("click",a);document.addEventListener("keydown",r)});o();c.setAttribute("disabled","")})();(function(){var e=document.querySelector("header");var o=1;e.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(e){var a=window.pageYOffset;var r=t.href.replace(/[^#]*(.*)/,"$1");var i=document.querySelector(r).getBoundingClientRect().top;var c=null;var l=function(e){c=c||e;var t=e-c;var n=i<0?Math.max(a-t/o,a+i):Math.min(a+t/o,a+i);window.scrollTo(0,n);if(n!=a+i){requestAnimationFrame(l)}else{location.hash=r}};requestAnimationFrame(l)})})})();(function(){var e=document.querySelector(".photos");var a=e.querySelector("button.prev");var r=e.querySelector("button.next");var i=e.querySelectorAll("li");var t=Math.round(i.length/2)-1;var n=function(n){var e=n-1;var t=n+1;i.forEach(function(e,t){e.className="";if(t===n){e.className="current"}else if(t<n){e.className="prev-prev"}else{e.className="next-next"}});if(i[e]){i[e].className="prev";a.classList.add("prev")}else{a.classList.remove("prev")}if(i[t]){i[t].className="next";r.classList.add("next")}else{r.classList.remove("next")}};a.addEventListener("click",function(){t--;n(t)});r.addEventListener("click",function(){t++;n(t)});e.classList.add("slider");n(t)})();